<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Projetos | César Malaguti</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/admin.css" />
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">
        <a href="index.html">César Malaguti</a>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Sobre</a></li>
          <li><a href="publications.html">Publicações</a></li>
          <li><a href="projects.html" class="active">Projetos</a></li>
          <li><a href="experience.html">Experiência</a></li>
          <li><a href="education.html">Formação</a></li>
          <li><a href="contact.html">Contato</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="projects">
      <div class="container">
        <h1 class="editable" data-lang="pt">Projetos</h1>
        <h1 class="editable" data-lang="en" style="display:none;">Projects</h1>
        
        <div id="project-list">
          <p>Carregando projetos...</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p data-lang="pt">&copy; 2025 César Malaguti. Todos os direitos reservados.</p>
      <p data-lang="en" style="display:none;">&copy; 2025 César Malaguti. All rights reserved.</p>
    </div>
  </footer>

  <script>
    const API_URL = "https://cesarmalaguti-site-backend.onrender.com";
    const projectList = document.getElementById("project-list");

    fetch(`${API_URL}/projects`)
      .then((res) => res.json())
      .then((data) => {
        if (data.length === 0) {
          projectList.innerHTML = "<p>Nenhum projeto cadastrado ainda.</p>";
          return;
        }

        const html = data.map((project) => `
          <div class="project-item">
            <h2>${project.name}</h2>
          </div>
        `).join("");

        projectList.innerHTML = html;
      })
      .catch((err) => {
        projectList.innerHTML = "<p>Erro ao carregar projetos.</p>";
        console.error(err);
      });
  </script>

  <script src="js/script.js"></script>
  <script src="js/language.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>



