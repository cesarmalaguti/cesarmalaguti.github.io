<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Projetos | César Malaguti</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/admin.css" />
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">
        <a href="index.html">César Malaguti</a>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Sobre</a></li>
          <li><a href="publications.html">Publicações</a></li>
          <li><a href="projects.html" class="active">Projetos</a></li>
          <li><a href="experience.html">Experiência</a></li>
          <li><a href="education.html">Formação</a></li>
          <li><a href="contact.html">Contato</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="projects">
      <div class="container">
        <h1 class="editable" data-lang="pt">Projetos</h1>
        <h1 class="editable" data-lang="en" style="display:none;">Projects</h1>

        <!-- Aqui serão inseridos os projetos da API -->
        <div id="projects-container"></div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p data-lang="pt">&copy; 2025 César Malaguti. Todos os direitos reservados.</p>
      <p data-lang="en" style="display:none;">&copy; 2025 César Malaguti. All rights reserved.</p>
    </div>
  </footer>

  <script src="js/script.js"></script>
  <script src="js/language.js"></script>
  <script src="js/admin.js"></script>

  <!-- Script para carregar os projetos da API -->
  <script>
    async function loadProjects() {
      const container = document.getElementById("projects-container");
      container.innerHTML = "<p>Carregando projetos...</p>";

      try {
        const res = await fetch("https://cesarmalaguti-site-backend.onrender.com/projects");
        const data = await res.json();

        if (data.length === 0) {
          container.innerHTML = "<p>Nenhum projeto encontrado.</p>";
          return;
        }

        container.innerHTML = "";

        data.forEach((project) => {
          const item = document.createElement("div");
          item.className = "project-item";
          item.innerHTML = `
            <h2>${project.name}</h2>
          `;
          container.appendChild(item);
        });
      } catch (error) {
        container.innerHTML = "<p>Erro ao carregar projetos.</p>";
        console.error(error);
      }
    }

    loadProjects();
  </script>
</body>
</html>



